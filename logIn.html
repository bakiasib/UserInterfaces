<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Log In</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div id="id01" class="modal" style="position:fixed">
  
            <form class="modal-content animate" action="handleLogIn.js" method="post">
              <div class="imgcontainer">
                <img src="images/logo.png" alt="Avatar" class="avatar">
              </div>
          
              <div class="container">
                <label for="uname"><b>Username</b></label>
                <input type="text" placeholder="Enter Username" name="uname" required>
          
                <label for="psw"><b>Password</b></label>
                <input type="password" placeholder="Enter Password" name="psw" required>
                <label>
                    <input type="checkbox" checked="checked" name="remember"> Remember me
                  </label>
                  
                <button type="submit" onclick=checkCookie()>Login</button>
    
                <label>
                     <h4>Sign in with:</h4>
                     <img src="images/google.png" alt="google" class="google" style="width: 11%;cursor: pointer;position: relative;left: 35%;">
                     <img src="images/facebook.png" alt="facebook" class="facebook" style="width: 11.7%;cursor: pointer; position: relative;left: 40%;">
                  </label>
    
              </div>
    
            </form>
          </div>
    
        <script>

        function getCookie(name) {
            var nameEQ = name + "=";
            var ca = document.cookie.split(';');
            for(var i=0;i < ca.length;i++) {
                var c = ca[i];
                while (c.charAt(0)==' ') c = c.substring(1,c.length);
                if (c.indexOf(nameEQ) == 0) 
                console.log(c.substring(nameEQ.length,c.length));
                return c.substring(nameEQ.length,c.length);
            }
            return null;
        }

        function checkCredentials(uname,psw) {
            var username = getCookie(uname);
            if(username.length > 0) {
                var password = getCookie(psw);
                if(password.length > 0) {
                  var splitted = password.split("[,]");
                  var pass = splitted[0];
                  if(pass==psw) {
                    return true;
                  } 
                }
            }
            return false;
        }

        function checkCookie() {
          var user = checkCredentials(document.getElementsByName("uname")[0].value, document.getElementsByName("psw")[0].value);
            if (user) {
                alert("Welcome again " + user);
            } else {
                 user = prompt("Username is invalid","");
                 password = prompt("Password is invalid","");
            }
        }


            </script>
          
</html>